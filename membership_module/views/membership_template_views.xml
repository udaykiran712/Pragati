<odoo>
    <record id="website_membership_menu" model="website.menu">
        <field name="name">Membership</field>
        <field name="url">/membership</field>
        <field name="parent_id" ref="website.main_menu"/>
        <field name="sequence" type="int">80</field>
    </record>
    

    
    <!-- .........................memberships template.................. -->
    <template id="membership_page_template" name="Kanban View">
        <t t-call="website.layout">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="#"><i class="fa fa-home"/></a></li>
                </ol>
            </nav>
            <div class="o_kanban_container_view">
                <div class="o_kanban_group_container_title bg-white text-center">
                        <h3>All Memberships</h3>
                </div>
                <div class="o_kanban_sub_container_records">
                    <t t-foreach="grouped_plans" t-as="membership_name">
                            <div class="membership-plans">
                                <h5><t t-esc="membership_name"/></h5>
                                <t t-foreach="grouped_plans[membership_name]" t-as="plans">
                                    <a t-attf-href="/membership/#{plans[0].membership_id.id}">
                                    <div class="membership-plan">
                                        <p><strong><t t-esc="plans[0].plan_duration"/> Month Plan</strong></p>
                                        <p>Price: Rs. <t t-esc="plans[0].price"/></p>
                                        <p>Discount: <t t-esc="plans[0].discount_percentage"/>%</p>
                                        <p>Discount Amt.: Rs. <t t-esc="plans[0].discount_amount"/></p>
                                        <p>Net Price: Rs. <t t-esc="plans[0].net_price"/>/-</p>
                                    </div>
                                </a>
                                </t>
                            </div>
                    </t>
                </div>
                <!-- <div class="o_kanban_sub_container_records">
                    <t t-foreach="membership_backend_data" t-as="membership">
                        <a t-attf-href="/membership/#{membership.id}">
                            <div>
                                <t t-out="membership.membership_name"/>
                                <span>Plan Name: <t t-esc="membership.planning_id.plan_name"/></span>
                                <span>Price: <t t-esc="membership.planning_id.price"/></span>
                                <span>Discount (%): <t t-esc="membership.planning_id.discount_percentage"/></span>
                                <span>Discount Amount: <t t-esc="membership.planning_id.discount_amount"/></span>
                                <span>Net Price: <t t-esc="membership.planning_id.net_price"/></span>
                            </div>
                        </a>
                    </t>
                </div>  -->   
            </div>
        </t>    
    </template>


   <!-- ................planning template.............. -->
    <template id="membership_plans_template" name="Membership Planning Detail">
        <t t-call="website.layout">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="#"><i class="fa fa-home"/></a></li>
                    <li  class="breadcrumb-item"><a href="/membership">Membership</a></li>
                    <!-- <li  class="breadcrumb-item"><a t-att-href="'/graph/' + parent_location">Zone</a></li> -->
                </ol>
            </nav>
            <div class="o_kanban_container_view">
                <div class="o_kanban_group_container_title bg-white text-center">
                        <h3>All Plannings</h3>
                </div>
                <div class="o_kanban_sub_container_records">
                    <t t-foreach="plannings" t-as="planning">
                        <div class="o_kanban_sub_sub_container_record m-2">
                            <a t-attf-href="/planning_description/#{planning.id}">
                                <t t-out="planning.plan_name"/>
                            <!-- </a> -->
                            <!-- <a t-attf-href="/planning/#{planning.id}"> -->
                                <p class="para">Description</p>
                            </a>
                            <div>
                                <button class="btn btn-primary" type="button" t-attf-onclick="onClickBuyButton('{{ planning.id }}', '{{ planning.plan_name }}', '{{ planning.membership_id.id }}')">Buy plan</button>
                            </div>

                        </div>  
                    </t>
                </div> 
            </div>
        </t>
    </template>



    <template id="membership_plans_description_slot_template" name="Slot Detail">
        <t t-call="website.layout">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="#"><i class="fa fa-home"></i></a></li>
                    <li class="breadcrumb-item"><a href="/membership">Membership</a></li>
                    <li class="breadcrumb-item"><a t-attf-href="/membership/#{membership}">All Plannings</a></li>
                </ol>
            </nav>
            <div class="o_kanban_sub_container_records">
                <t t-foreach="repeated_slots" t-as="slot">
                    <div class="o_kanban_sub_sub_container_record">
                        <div class="o_kanban_group_container_title bg-white border rounded ">
                            <t t-out =" slot.slot_name"/>
                        </div>
                        <div class="o_kanban_sub_sub_container_record_tree mt-3">
                            <table class="o_list_view">
                                <thead>
                                    <tr>
                                        <th>Product</th>
                                        <th>Quantity</th>
                                        <th>UOM</th>
                                        <th>Unit Price</th>
                                        <th>SubTotal</th>
                                    </tr>
                                </thead>
                                    <t t-foreach="slot.product_line_ids" t-as="product_line">
                                        <tr>
                                            <td><t t-esc="product_line.product_id.display_name"/></td>
                                            <td class="quantity-cell">
                                                <span class="quantity-value" t-esc="product_line.quantity"/>
                                                <input type="number" class="edit-quantity-input" style="display: none;" t-attf-data-product-id="{{ product_line.product_id.id }}"/>
                                            </td>
                                            <td><t t-esc="product_line.uom_name"/></td>
                                            <td><t t-esc="product_line.price_unit"/></td>
                                            <td><t t-esc="product_line.price_subtotal"/></td>
                                        </tr>
                                    </t>
                                    <tr>
                                        <td colspan="5" class="text-end">
                                            <strong>Total: <t t-esc="slot.total_amount"/></strong>
                                        </td>
                                    </tr>
                            </table>
                        </div>
                    </div>
                </t>
                
            </div>
        </t>
    </template>


    <template id="membership_plans_slot_template" name="Slot Detail">
        <t t-call="website.layout">
            <div class="o_kanban_sub_container_records">
                <t t-foreach="repeated_slots" t-as="slot">
                    <div class="o_kanban_sub_sub_container_record">
                        <div class="o_kanban_group_container_title bg-white border rounded ">
                            <t t-out =" slot.slot_name"/>
                        </div>
                        <div class="o_kanban_sub_sub_container_record_tree mt-3">
                            <table class="o_list_view">
                                <thead>
                                    <tr>
                                        <th>Product</th>
                                        <th>Quantity</th>
                                        <th>UOM</th>
                                        <th>Unit Price</th>
                                        <th>SubTotal</th>
                                    </tr>
                                </thead>
                                    <t t-foreach="slot.product_line_ids" t-as="product_line">
                                        <tr>
                                            <td><t t-esc="product_line.product_id.display_name"/></td>
                                            <td class="quantity-cell">
                                                <span class="quantity-value" t-esc="product_line.quantity"/>
                                                <input type="number" class="edit-quantity-input" style="display: none;" t-attf-data-product-id="{{ product_line.product_id.id }}"/>
                                            </td>
                                            <td><t t-esc="product_line.uom_name"/></td>
                                            <td><t t-esc="product_line.price_unit"/></td>
                                            <td><t t-esc="product_line.price_subtotal"/></td>
                                        </tr>
                                    </t>
                                    <tr>
                                        <td colspan="5" class="text-end">
                                            <strong>Total: <t t-esc="slot.total_amount"/></strong>
                                        </td>
                                    </tr>
                            </table>
                        </div>
                        <button class = "btn btn-primary m-2 edit-btn" type="button" t-attf-data-slot-id="{{ slot.id }}">Slot Edit
                        </button>
                        <button class = "btn btn-primary m-2 save-btn" type="button" t-attf-data-slot-id="{{ slot.id }}" style="display: none;">Save
                        </button>
                        <button class = "btn btn-primary m-2 buy-btn" type="button" t-attf-data-slot-id="{{ slot.id }}" >Slot Buy
                        </button>
                        <p t-attf-id="messageSlot{{ slot.id }}"></p>
                    </div>
                </t>
                
            </div>
        </t>
    </template>
   

    


    <template id="membership_module.error_template" name="Error Template">
    <t t-call="website.layout">
        <div class="container mt-4">
            <div class="alert alert-danger">
                <p><strong>Error:</strong> Records not found.</p>
            </div>
        </div>
    </t>
</template>
</odoo>